/* =====================================================
   GROUPSAPP — main.css
   Dark industrial aesthetic, Geist + Instrument Serif
   ===================================================== */

/* ── CUSTOM PROPERTIES ── */
:root {
  --bg:        #0a0b0e;
  --bg2:       #111318;
  --bg3:       #181c24;
  --bg4:       #1e232f;
  --bg5:       #252c3a;
  --border:    rgba(255,255,255,0.07);
  --border2:   rgba(255,255,255,0.12);

  --accent:    #5b8def;
  --accent2:   #3d6fe0;
  --green:     #34d399;
  --red:       #f87171;
  --amber:     #fbbf24;

  --text:      #e8edf5;
  --text2:     #7c8799;
  --text3:     #4a5568;

  --mono:      'Geist Mono', monospace;
  --sans:      'Geist', system-ui, sans-serif;
  --serif:     'Instrument Serif', Georgia, serif;

  --shadow-sm: 0 2px 8px rgba(0,0,0,0.4);
  --shadow:    0 8px 32px rgba(0,0,0,0.6);
  --shadow-lg: 0 20px 60px rgba(0,0,0,0.8);

  --radius:    10px;
  --radius-lg: 16px;
  --sidebar-w: 268px;
  --gsidebar-w: 220px;
}

/* ── RESET ── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;overflow:hidden}
body{font-family:var(--sans);background:var(--bg);color:var(--text);font-size:14px;line-height:1.5;-webkit-font-smoothing:antialiased}
button{cursor:pointer;border:none;outline:none;font-family:inherit;background:none}
input,textarea{outline:none;font-family:inherit;border:none;background:none}
a{color:inherit;text-decoration:none}
::-webkit-scrollbar{width:4px;height:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--bg5);border-radius:2px}
.hidden{display:none!important}

/* ── SCREENS ── */
.screen{display:none;width:100%;height:100%}
.screen.active{display:flex}

/* ===================================================
   AUTH SCREEN
   =================================================== */
#screen-auth{
  align-items:center;
  justify-content:center;
  position:relative;
  overflow:hidden;
  background:var(--bg);
}

.auth-bg{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.auth-orb{
  position:absolute;
  border-radius:50%;
  filter:blur(80px);
  opacity:0.35;
}
.auth-orb-1{
  width:500px;height:500px;
  background:radial-gradient(circle,#1a3a8f,transparent 70%);
  top:-150px;left:-100px;
}
.auth-orb-2{
  width:400px;height:400px;
  background:radial-gradient(circle,#0f2d5a,transparent 70%);
  bottom:-100px;right:-50px;
}
.auth-grid{
  position:absolute;inset:0;
  background-image:
    linear-gradient(rgba(255,255,255,0.02) 1px,transparent 1px),
    linear-gradient(90deg,rgba(255,255,255,0.02) 1px,transparent 1px);
  background-size:40px 40px;
}

.auth-card{
  position:relative;z-index:1;
  width:420px;
  background:var(--bg2);
  border:1px solid var(--border2);
  border-radius:var(--radius-lg);
  padding:36px;
  box-shadow:var(--shadow-lg);
  animation:slideUp 0.4s cubic-bezier(0.16,1,0.3,1);
}

@keyframes slideUp{
  from{opacity:0;transform:translateY(24px)}
  to{opacity:1;transform:translateY(0)}
}

.auth-brand{display:flex;align-items:center;gap:14px;margin-bottom:28px}
.brand-mark{
  width:44px;height:44px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent),#3046c5);
  display:flex;align-items:center;justify-content:center;
  font-family:var(--serif);font-size:22px;font-weight:400;
  color:#fff;flex-shrink:0;
  box-shadow:0 4px 16px rgba(91,141,239,0.3);
}
.brand-name{
  font-family:var(--serif);font-size:22px;font-weight:400;
  color:var(--text);letter-spacing:-0.3px;
}
.brand-sub{font-size:12px;color:var(--text3);margin-top:1px}

.auth-tabs{
  display:flex;gap:2px;
  background:var(--bg3);
  border-radius:8px;padding:3px;
  margin-bottom:24px;
}
.auth-tab{
  flex:1;padding:8px;border-radius:6px;
  font-size:13px;font-weight:500;color:var(--text2);
  transition:all 0.15s;
}
.auth-tab.active{background:var(--bg5);color:var(--text);box-shadow:var(--shadow-sm)}

.auth-error{
  background:rgba(248,113,113,0.1);
  border:1px solid rgba(248,113,113,0.25);
  border-radius:8px;padding:10px 14px;
  color:var(--red);font-size:13px;margin-bottom:16px;
}

.field-group{margin-bottom:14px}
.field-label{
  display:block;font-size:11px;font-weight:500;
  color:var(--text2);text-transform:uppercase;letter-spacing:0.8px;
  margin-bottom:6px;
}
.field-hint{font-size:10px;font-weight:400;color:var(--text3);text-transform:none;letter-spacing:0}
.field-input{
  width:100%;
  background:var(--bg3);
  border:1px solid var(--border);
  border-radius:8px;
  padding:11px 14px;
  color:var(--text);font-size:14px;
  transition:border-color 0.15s,box-shadow 0.15s;
}
.field-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(91,141,239,0.15)}
.field-input::placeholder{color:var(--text3)}
.field-textarea{resize:vertical;min-height:72px}

.btn-auth{
  width:100%;padding:12px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border-radius:8px;color:#fff;font-size:14px;font-weight:600;
  letter-spacing:0.2px;
  box-shadow:0 4px 16px rgba(91,141,239,0.3);
  transition:opacity 0.15s,transform 0.1s;
  margin-top:4px;
}
.btn-auth:hover{opacity:0.9}
.btn-auth:active{transform:scale(0.98)}

/* ===================================================
   APP LAYOUT
   =================================================== */
#screen-app{flex-direction:row}

/* ===================================================
   SIDEBAR
   =================================================== */
.sidebar{
  width:var(--sidebar-w);
  min-width:var(--sidebar-w);
  background:var(--bg2);
  border-right:1px solid var(--border);
  display:flex;flex-direction:column;
  height:100%;
  position:relative;
  z-index:10;
}

.sidebar-top{
  display:flex;align-items:center;
  justify-content:space-between;
  padding:16px 16px 12px;
  border-bottom:1px solid var(--border);
  flex-shrink:0;
}
.sidebar-brand{display:flex;align-items:center;gap:8px}
.sidebar-logo{
  font-family:var(--serif);font-size:20px;
  color:var(--accent);font-weight:400;
}
.sidebar-title{
  font-family:var(--serif);font-size:16px;font-weight:400;
  color:var(--text);
}
.sidebar-actions{display:flex;gap:6px}

.icon-btn{
  position:relative;
  width:30px;height:30px;border-radius:7px;
  display:flex;align-items:center;justify-content:center;
  color:var(--text2);
  transition:all 0.15s;
  border:1px solid transparent;
}
.icon-btn:hover{background:var(--bg4);color:var(--text);border-color:var(--border)}
.badge{
  position:absolute;top:-4px;right:-4px;
  min-width:16px;height:16px;
  background:var(--red);color:#fff;
  border-radius:10px;font-size:10px;font-weight:600;
  display:flex;align-items:center;justify-content:center;
  padding:0 4px;
  border:2px solid var(--bg2);
}

.sidebar-search{
  padding:10px 12px;
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;gap:8px;
  flex-shrink:0;
}
.search-icon{color:var(--text3);flex-shrink:0}
.search-input{
  flex:1;
  background:var(--bg3);
  border:1px solid var(--border);
  border-radius:7px;
  padding:7px 11px;
  color:var(--text);font-size:13px;
  transition:border-color 0.15s;
}
.search-input:focus{border-color:var(--accent)}
.search-input::placeholder{color:var(--text3)}

.sidebar-nav{
  display:flex;gap:4px;
  padding:8px 12px;
  border-bottom:1px solid var(--border);
  flex-shrink:0;
}
.nav-pill{
  flex:1;padding:6px 8px;border-radius:6px;
  font-size:12px;font-weight:500;color:var(--text2);
  transition:all 0.15s;text-align:center;
}
.nav-pill.active{background:rgba(91,141,239,0.12);color:var(--accent)}

.sidebar-scroll{flex:1;overflow-y:auto;padding:8px}

/* Group items */
.group-item{
  display:flex;align-items:center;gap:10px;
  padding:9px 10px;border-radius:8px;
  cursor:pointer;transition:background 0.1s;
  position:relative;
}
.group-item:hover{background:var(--bg3)}
.group-item.active{background:rgba(91,141,239,0.1)}
.group-item.active::before{
  content:'';
  position:absolute;left:0;top:50%;transform:translateY(-50%);
  width:2px;height:60%;background:var(--accent);border-radius:0 2px 2px 0;
}
.gi-avatar{
  width:36px;height:36px;border-radius:9px;
  display:flex;align-items:center;justify-content:center;
  font-family:var(--serif);font-size:15px;font-weight:400;
  color:#fff;flex-shrink:0;
}
.gi-info{flex:1;min-width:0}
.gi-name{
  font-size:13px;font-weight:500;color:var(--text);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.gi-sub{font-size:11px;color:var(--text3);margin-top:1px}
.gi-lock{font-size:10px;color:var(--text3)}

/* Invitation items */
.inv-item{
  background:var(--bg3);border:1px solid var(--border);
  border-radius:8px;padding:12px;margin-bottom:6px;
}
.inv-group{font-size:13px;font-weight:500;margin-bottom:3px}
.inv-by{font-size:11px;color:var(--text3);margin-bottom:10px}
.inv-actions{display:flex;gap:6px}
.btn-accept{
  flex:1;padding:6px;border-radius:6px;
  font-size:12px;font-weight:600;
  background:rgba(52,211,153,0.1);color:var(--green);
  border:1px solid rgba(52,211,153,0.2);
  transition:background 0.15s;
}
.btn-accept:hover{background:rgba(52,211,153,0.18)}
.btn-reject{
  flex:1;padding:6px;border-radius:6px;
  font-size:12px;font-weight:600;
  background:rgba(248,113,113,0.08);color:var(--red);
  border:1px solid rgba(248,113,113,0.15);
  transition:background 0.15s;
}
.btn-reject:hover{background:rgba(248,113,113,0.15)}

/* Sidebar user */
.sidebar-user{
  padding:12px 14px;
  border-top:1px solid var(--border);
  display:flex;align-items:center;gap:10px;
  flex-shrink:0;
}
.user-avatar-wrap{position:relative;flex-shrink:0}
.user-avatar{
  width:30px;height:30px;border-radius:8px;
  background:linear-gradient(135deg,var(--accent),#3046c5);
  display:flex;align-items:center;justify-content:center;
  font-family:var(--serif);font-size:13px;color:#fff;
}
.presence-dot{
  position:absolute;bottom:-1px;right:-1px;
  width:8px;height:8px;border-radius:50%;
  border:2px solid var(--bg2);
}
.presence-dot.online{background:var(--green)}
.user-info{flex:1;min-width:0}
.user-name{font-size:13px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.user-email{font-size:11px;color:var(--text3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.user-actions{display:flex;gap:4px;flex-shrink:0}
.icon-btn-sm{
  width:26px;height:26px;border-radius:6px;
  display:flex;align-items:center;justify-content:center;
  color:var(--text3);transition:all 0.15s;
}
.icon-btn-sm:hover{background:var(--bg4);color:var(--text)}
.icon-btn-sm.danger:hover{background:rgba(248,113,113,0.1);color:var(--red)}

/* ===================================================
   MAIN PANEL
   =================================================== */
.main-panel{
  flex:1;display:flex;flex-direction:column;
  height:100%;overflow:hidden;
  background:var(--bg);
}

/* Welcome */
.welcome-state{
  flex:1;display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  gap:12px;color:var(--text3);
}
.welcome-icon{opacity:0.3}
.welcome-title{font-family:var(--serif);font-size:24px;font-weight:400;color:var(--text2)}
.welcome-sub{font-size:13px}

/* Group view */
.group-view{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden}

.group-header{
  display:flex;align-items:center;gap:14px;
  padding:14px 20px;
  background:var(--bg2);
  border-bottom:1px solid var(--border);
  flex-shrink:0;
}
.group-avatar-lg{
  width:40px;height:40px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-family:var(--serif);font-size:18px;color:#fff;
  flex-shrink:0;
}
.group-header-info{flex:1;min-width:0}
.group-header-name{
  font-family:var(--serif);font-size:18px;font-weight:400;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.group-header-meta{font-size:12px;color:var(--text3);margin-top:1px}
.group-header-actions{display:flex;gap:6px;flex-shrink:0}
.header-btn{
  height:32px;padding:0 12px;
  border-radius:7px;font-size:12px;font-weight:500;
  display:flex;align-items:center;gap:6px;
  border:1px solid var(--border);color:var(--text2);
  transition:all 0.15s;
}
.header-btn:hover{background:var(--bg4);color:var(--text);border-color:var(--border2)}
.header-btn.danger:hover{background:rgba(248,113,113,0.1);color:var(--red);border-color:rgba(248,113,113,0.2)}

/* Group body: left sidebar + chat */
.group-body{
  flex:1;display:flex;overflow:hidden;
}

/* Group sidebar (channels + members) */
.group-sidebar{
  width:var(--gsidebar-w);
  min-width:var(--gsidebar-w);
  background:var(--bg2);
  border-right:1px solid var(--border);
  display:flex;flex-direction:column;
  overflow-y:auto;
  padding:8px 0;
}
.gsidebar-section{margin-bottom:4px}
.gsidebar-label{
  display:flex;align-items:center;justify-content:space-between;
  padding:6px 14px 4px;
  font-size:11px;font-weight:600;
  color:var(--text3);text-transform:uppercase;letter-spacing:0.8px;
}
.gsidebar-add{
  width:18px;height:18px;border-radius:4px;
  font-size:16px;line-height:1;
  color:var(--text3);
  display:flex;align-items:center;justify-content:center;
  transition:all 0.15s;
}
.gsidebar-add:hover{background:var(--bg4);color:var(--text)}

/* Channel items in sidebar */
.channel-item{
  display:flex;align-items:center;gap:8px;
  padding:6px 14px;border-radius:0;
  font-size:13px;color:var(--text2);
  cursor:pointer;transition:all 0.1s;width:100%;text-align:left;
}
.channel-item:hover{background:var(--bg3);color:var(--text)}
.channel-item.active{background:rgba(91,141,239,0.1);color:var(--accent)}
.channel-item.general-chat{color:var(--text2);font-style:italic}
.channel-item.general-chat.active{color:var(--accent)}
.ch-hash{font-size:14px;font-weight:600;color:var(--text3);flex-shrink:0}
.channel-item.active .ch-hash{color:var(--accent)}
.ch-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.ch-delete{
  opacity:0;width:18px;height:18px;border-radius:4px;
  display:flex;align-items:center;justify-content:center;
  color:var(--text3);transition:all 0.1s;flex-shrink:0;
}
.channel-item:hover .ch-delete{opacity:1}
.ch-delete:hover{background:rgba(248,113,113,0.15);color:var(--red)}

/* Member items in sidebar */
.member-item{
  display:flex;align-items:center;gap:8px;
  padding:5px 14px;
}
.mi-avatar{
  width:24px;height:24px;border-radius:6px;
  display:flex;align-items:center;justify-content:center;
  font-family:var(--serif);font-size:11px;color:#fff;flex-shrink:0;
}
.mi-info{flex:1;min-width:0}
.mi-name{font-size:12px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.mi-role{
  font-size:9px;font-family:var(--mono);
  font-weight:500;padding:1px 5px;border-radius:3px;margin-top:1px;display:inline-block;
}
.mi-role.admin{background:rgba(91,141,239,0.12);color:var(--accent)}
.mi-role.member{background:var(--bg4);color:var(--text3)}
.mi-actions{display:flex;gap:3px;opacity:0}
.member-item:hover .mi-actions{opacity:1}
.mi-btn{
  width:20px;height:20px;border-radius:4px;
  display:flex;align-items:center;justify-content:center;
  color:var(--text3);font-size:11px;
  transition:all 0.1s;
}
.mi-btn:hover{background:var(--bg4);color:var(--text)}
.mi-btn.danger:hover{background:rgba(248,113,113,0.1);color:var(--red)}

/* ===================================================
   CHAT AREA
   =================================================== */
.chat-area{
  flex:1;display:flex;flex-direction:column;
  overflow:hidden;background:var(--bg);
}
.chat-empty{
  flex:1;display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  gap:10px;color:var(--text3);
}
.chat-empty p{font-size:13px}

.chat-header{
  padding:12px 20px;
  background:var(--bg2);
  border-bottom:1px solid var(--border);
  flex-shrink:0;
  display:flex;align-items:center;gap:8px;
}
.chat-channel-name{
  font-family:var(--mono);font-size:14px;
  color:var(--text);font-weight:500;
}
.chat-channel-desc{font-size:12px;color:var(--text3);margin-left:8px}

.chat-messages{
  flex:1;overflow-y:auto;
  padding:16px 20px;
  display:flex;flex-direction:column;gap:2px;
}

/* Date divider */
.date-divider{
  display:flex;align-items:center;gap:12px;
  margin:12px 0;
}
.date-divider::before,.date-divider::after{
  content:'';flex:1;height:1px;background:var(--border);
}
.date-divider span{
  font-size:11px;color:var(--text3);font-family:var(--mono);
  white-space:nowrap;
}

/* Message row */
.msg-row{
  display:flex;gap:10px;
  padding:3px 0;max-width:100%;
}
.msg-row:hover .msg-actions{opacity:1}
.msg-row.own{flex-direction:row-reverse}

.msg-av{
  width:28px;height:28px;border-radius:7px;
  display:flex;align-items:center;justify-content:center;
  font-family:var(--serif);font-size:12px;color:#fff;
  flex-shrink:0;margin-top:2px;
}

.msg-body{max-width:68%;display:flex;flex-direction:column}
.msg-row.own .msg-body{align-items:flex-end}

.msg-meta{
  display:flex;align-items:baseline;gap:6px;margin-bottom:3px;
}
.msg-row.own .msg-meta{flex-direction:row-reverse}
.msg-sender{font-size:12px;font-weight:600;color:var(--accent)}
.msg-time{font-size:10px;color:var(--text3);font-family:var(--mono)}

.msg-bubble{
  padding:8px 12px;border-radius:12px;
  word-break:break-word;max-width:100%;
  position:relative;
}
.msg-bubble.other{
  background:var(--bg3);border-bottom-left-radius:4px;
}
.msg-bubble.own-bubble{
  background:rgba(91,141,239,0.18);
  border:1px solid rgba(91,141,239,0.2);
  border-bottom-right-radius:4px;
}
.msg-text{font-size:14px;color:var(--text);line-height:1.55}
.msg-edited{font-size:10px;color:var(--text3);margin-top:3px;font-style:italic}
.msg-image{max-width:240px;max-height:180px;border-radius:8px;cursor:pointer;display:block;transition:opacity 0.15s}
.msg-image:hover{opacity:0.9}
.msg-file{
  display:flex;align-items:center;gap:8px;
  padding:8px 10px;
  background:rgba(91,141,239,0.06);
  border:1px solid rgba(91,141,239,0.15);
  border-radius:8px;cursor:pointer;
  transition:background 0.15s;
}
.msg-file:hover{background:rgba(91,141,239,0.12)}
.file-icon{font-size:18px}
.file-name{font-size:12px;font-weight:500}

.msg-actions{
  display:flex;gap:3px;
  align-items:center;
  opacity:0;transition:opacity 0.1s;
  align-self:center;
  flex-shrink:0;
}
.msg-action-btn{
  width:24px;height:24px;border-radius:5px;
  display:flex;align-items:center;justify-content:center;
  color:var(--text3);
  transition:all 0.1s;
}
.msg-action-btn:hover{background:var(--bg4);color:var(--text)}
.msg-action-btn.danger:hover{background:rgba(248,113,113,0.1);color:var(--red)}

/* Chat input */
.chat-input-wrap{
  padding:12px 16px;
  background:var(--bg2);
  border-top:1px solid var(--border);
  flex-shrink:0;
}
.chat-input-row{
  display:flex;align-items:center;gap:8px;
  background:var(--bg3);
  border:1px solid var(--border);
  border-radius:10px;
  padding:0 12px 0 4px;
  transition:border-color 0.15s;
}
.chat-input-row:focus-within{border-color:rgba(91,141,239,0.4)}
.attach-btn{
  width:32px;height:32px;border-radius:7px;
  display:flex;align-items:center;justify-content:center;
  color:var(--text3);flex-shrink:0;
  transition:color 0.15s;
}
.attach-btn:hover{color:var(--text)}
.chat-input{
  flex:1;padding:10px 0;
  color:var(--text);font-size:14px;
  background:transparent;
}
.chat-input::placeholder{color:var(--text3)}
.send-btn{
  width:32px;height:32px;border-radius:7px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:flex;align-items:center;justify-content:center;
  color:#fff;flex-shrink:0;
  transition:opacity 0.15s;
  box-shadow:0 2px 8px rgba(91,141,239,0.25);
}
.send-btn:hover{opacity:0.85}

/* ===================================================
   MODALS
   =================================================== */
.modal-overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,0.65);
  backdrop-filter:blur(6px);
  display:flex;align-items:center;justify-content:center;
  z-index:1000;
  animation:fadeIn 0.15s ease;
}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

.modal{
  background:var(--bg2);
  border:1px solid var(--border2);
  border-radius:var(--radius-lg);
  padding:24px;
  width:420px;max-width:95vw;
  box-shadow:var(--shadow-lg);
  animation:slideUp 0.2s cubic-bezier(0.16,1,0.3,1);
}
.modal-sm{width:360px}
.modal-wide{width:480px}

.modal-header{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:20px;
}
.modal-title{
  font-family:var(--serif);font-size:18px;font-weight:400;
}
.modal-close{
  width:28px;height:28px;border-radius:6px;
  display:flex;align-items:center;justify-content:center;
  font-size:18px;color:var(--text3);
  transition:all 0.15s;line-height:1;
}
.modal-close:hover{background:var(--bg4);color:var(--text)}
.modal-footer{
  display:flex;gap:8px;justify-content:flex-end;
  margin-top:20px;
}
.modal-body-text{font-size:14px;color:var(--text2);line-height:1.6;margin-bottom:4px}

.field-check{
  display:flex;align-items:center;gap:8px;
  margin-top:4px;
}
.field-check input[type=checkbox]{
  width:15px;height:15px;
  accent-color:var(--accent);cursor:pointer;
}
.field-check label{font-size:13px;color:var(--text2);cursor:pointer}

.btn-primary{
  padding:9px 18px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border-radius:7px;color:#fff;font-size:13px;font-weight:600;
  transition:opacity 0.15s;
  box-shadow:0 2px 8px rgba(91,141,239,0.25);
}
.btn-primary:hover{opacity:0.9}
.btn-ghost{
  padding:9px 18px;
  background:var(--bg3);border:1px solid var(--border);
  border-radius:7px;color:var(--text2);font-size:13px;font-weight:500;
  transition:all 0.15s;
}
.btn-ghost:hover{background:var(--bg4);color:var(--text)}
.btn-danger{
  padding:9px 18px;
  background:rgba(248,113,113,0.1);
  border:1px solid rgba(248,113,113,0.2);
  border-radius:7px;color:var(--red);font-size:13px;font-weight:600;
  transition:all 0.15s;
}
.btn-danger:hover{background:rgba(248,113,113,0.18)}

/* Profile tabs */
.profile-tabs{
  display:flex;gap:4px;
  border-bottom:1px solid var(--border);
  margin-bottom:20px;padding-bottom:0;
}
.profile-tab{
  padding:8px 14px;font-size:13px;font-weight:500;
  color:var(--text3);border-bottom:2px solid transparent;
  margin-bottom:-1px;transition:all 0.15s;
}
.profile-tab.active{color:var(--accent);border-bottom-color:var(--accent)}
.profile-tab.danger-tab.active{color:var(--red);border-bottom-color:var(--red)}
.profile-tab-content{display:block}

/* Danger zone */
.danger-zone{
  display:flex;align-items:flex-start;justify-content:space-between;gap:16px;
  padding:16px;background:rgba(248,113,113,0.05);
  border:1px solid rgba(248,113,113,0.15);border-radius:8px;
}
.danger-info strong{font-size:14px;display:block;margin-bottom:4px;color:var(--text)}
.danger-info p{font-size:12px;color:var(--text3);line-height:1.5;max-width:260px}

/* ===================================================
   TOASTS
   =================================================== */
#toast-container{
  position:fixed;bottom:20px;right:20px;
  display:flex;flex-direction:column;gap:6px;z-index:9999;
}
.toast{
  background:var(--bg3);
  border:1px solid var(--border2);
  border-radius:8px;
  padding:10px 14px;
  font-size:13px;color:var(--text);
  box-shadow:var(--shadow);
  display:flex;align-items:center;gap:8px;
  min-width:240px;max-width:340px;
  animation:toastIn 0.25s cubic-bezier(0.16,1,0.3,1);
}
@keyframes toastIn{
  from{opacity:0;transform:translateX(20px)}
  to{opacity:1;transform:translateX(0)}
}
.toast.success{border-color:rgba(52,211,153,0.25)}
.toast.error{border-color:rgba(248,113,113,0.25)}
.toast.warn{border-color:rgba(251,191,36,0.25)}
.toast-dot{
  width:6px;height:6px;border-radius:50%;flex-shrink:0;
}
.toast.success .toast-dot{background:var(--green)}
.toast.error .toast-dot{background:var(--red)}
.toast.warn .toast-dot{background:var(--amber)}
.toast.info .toast-dot{background:var(--accent)}

/* ===================================================
   CONTEXT MENU
   =================================================== */
.context-menu{
  position:fixed;z-index:2000;
  background:var(--bg3);
  border:1px solid var(--border2);
  border-radius:8px;padding:4px;
  box-shadow:var(--shadow);
  min-width:160px;
}
.context-menu button{
  display:flex;align-items:center;gap:8px;
  width:100%;padding:8px 10px;border-radius:5px;
  font-size:13px;color:var(--text2);
  transition:all 0.1s;
}
.context-menu button:hover{background:rgba(248,113,113,0.1);color:var(--red)}

/* ===================================================
   AVATAR COLORS
   =================================================== */
.av-0{background:linear-gradient(135deg,#5b8def,#3046c5)}
.av-1{background:linear-gradient(135deg,#7c5ce7,#6941c6)}
.av-2{background:linear-gradient(135deg,#34d399,#059669)}
.av-3{background:linear-gradient(135deg,#f59e0b,#d97706)}
.av-4{background:linear-gradient(135deg,#f472b6,#db2777)}
.av-5{background:linear-gradient(135deg,#22d3ee,#0891b2)}

/* ===================================================
   EMPTY STATES
   =================================================== */
.empty-state{
  text-align:center;padding:28px 16px;color:var(--text3);
}
.empty-state p{font-size:13px;line-height:1.5}

/* ===================================================
   MISC UTILITIES
   =================================================== */
.tag-private{
  font-size:9px;padding:1px 6px;border-radius:3px;
  font-family:var(--mono);
  background:rgba(91,141,239,0.08);color:var(--text3);
  margin-left:4px;
}

/* ===================================================
   AGREGAR AL FINAL DE main.css
   =================================================== */

/* Mensaje eliminado */
.msg-deleted {
  font-size: 13px;
  color: var(--text3);
  font-style: italic;
}
.deleted-bubble {
  opacity: 0.55;
  background: transparent !important;
  border: 1px dashed var(--border2) !important;
}

/* Edición inline de mensajes */
.edit-input-wrap {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 220px;
}
.edit-input {
  background: var(--bg4);
  border: 1px solid var(--accent);
  border-radius: 7px;
  padding: 7px 10px;
  color: var(--text);
  font-size: 14px;
  font-family: var(--sans);
  width: 100%;
  transition: box-shadow 0.15s;
}
.edit-input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(91, 141, 239, 0.2);
}
.edit-actions {
  display: flex;
  gap: 6px;
  justify-content: flex-end;
}
.edit-btn-cancel {
  padding: 4px 12px;
  border-radius: 5px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text2);
  background: var(--bg5);
  border: 1px solid var(--border);
  cursor: pointer;
  transition: all 0.15s;
}
.edit-btn-cancel:hover {
  color: var(--text);
  background: var(--bg4);
}
.edit-btn-save {
  padding: 4px 12px;
  border-radius: 5px;
  font-size: 12px;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  border: none;
  cursor: pointer;
  transition: opacity 0.15s;
}
.edit-btn-save:hover {
  opacity: 0.85;
}
/* ── Presence dots ── */
.mi-avatar { position: relative; }
.presence-dot {
  position: absolute;
  bottom: -1px; right: -1px;
  width: 8px; height: 8px;
  border-radius: 50%;
  border: 2px solid var(--bg2);
  pointer-events: none;
}
.presence-dot.online  { background: #4ade80; }
.presence-dot.offline { background: #6b7280; }